<div id="content">
  <div class="py-4 pb-2 d-flex flex-column justify-content-end" id="header">
    <div class="d-flex justify-content-start align-items-center mb-1">
      <fa-icon icon="arrow-left" (click)="onCloseNav()" class="mx-4" id="close"></fa-icon>
      <div class="title">Add new people</div>
    </div>
  </div>
  <div id="main" class="d-flex flex-column align-items-center">
    <input [ngModel]="query" (ngModelChange)="onQueryChange($event)"
      class="form-control w-75 my-4" type="text" placeholder="Search name">
    <div class="d-flex flex-column w-100 overflow-y-auto">
      @for (user of usersResponse; track user.id) {
        <app-conversation-selector
          [title]="user.firstName + ' ' + user.lastName"
          [subtitle]="'Hi I\'m using Whatsapp clone'"
          [pictureUrl]="user.profilePictureUrl!"
          (select)="handleConversation(user.id!)"
        ></app-conversation-selector>
      }
    </div>
    @if (usersResponse.length === 0 && !loadingSearch) {
      <div class="d-flex flex-column vh-100 align-items-center justify-content-center">
        <div class="fs-3">
            No result found
        </div>
      </div>
    }
    @if (loadingSearch) {
      <div class="d-flex flex-column vh-100 align-items-center justify-content-center">
        <div class="spinner-grow text-primary" role="status">
          <span class="visually-hidden">Loading...</span>
        </div>
      </div>
    }
  </div>
</div>
